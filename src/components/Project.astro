---
// Import components
import CldImage from './CldImage.astro'

const { projNum, name, tech, description, src, width, height, alt } = Astro.props
const slug = name.replaceAll(/\s/g, '').toLowerCase()
---

<div class="container">
    <div class="project-title-tech">
        <div class="project-title text">
            <a href=`/projects/${slug}` class="project-link">
                <h3>{name}</h3>
            </a>
        </div>

        <div class="project-tech text"><p>{tech}</p></div>
        <div class="project-description text"><p class="project-description">{description}</p></div>
    </div>

    <div class="project-image">
        <a href=`/projects/${slug}` class="project-link">
            <CldImage src={src} width={width} height={height} alt={alt} />
        </a>
    </div>
</div>

<style>
    .container {
        width: 100%;

        color: var(--main-color);
    }

    .project-title {
        & h3 {
            font-size: 2.5rem;
        }
    }

    .project-description {
        max-width: 60ch;
        padding: 1rem 0;
    }

    .project-link {
        display: block;
        color: inherit;
        text-decoration: none;
        cursor: pointer;

        &:link {
            color: inherit;
        }

        &:visited {
            color: inherit;
        }

        &:focus,
        &:hover,
        &:active {
            color: rebeccapurple;
        }
    }

    @media screen and (min-width: 768px) {
        .container {
            display: grid;
            grid-template: repeat(3, min-content) / repeat(auto-fit, minmax(22rem, 2fr));
            gap: 1rem;
        }
        .project-title {
            & h3 {
                font-size: 4rem;
            }
        }

        .project-tech,
        .project-description {
            font-size: 1.25rem;
        }

        .project-description {
            grid-row-start: 2;
        }
        .project-image {
            grid-column-start: 2;
            grid-row: 1 / 3;
        }
    }
</style>
