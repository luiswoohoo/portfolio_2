---
// Import components
import CldImage from './CldImage.astro'

const { projNum, name, tech, description, src, width, height, alt } = Astro.props
const slug = name.replaceAll(/\s/g, '').toLowerCase()
---

<div class="container">
    <div class="project-text">
        <a href=`/projects/${slug}` class="project-link">
            <h3>{name}</h3>
        </a>

        <p class="project-tech">{tech}</p>
        <p class="project-description">{description}</p>
        <a href=`/projects/${slug}` class="project-details">Project Details</a>
    </div>

    <div class="project-image">
        <a href=`/projects/${slug}` class="project-link">
            <CldImage src={src} width={width} height={height} alt={alt} />
        </a>
    </div>
</div>

<style>
    .container {
        width: 100%;

        color: var(--main-color);
    }

    .project-text {
        & h3 {
            font-size: clamp(2.5rem, 5vw, 4rem);
        }
    }

    .project-description {
        max-width: 60ch;

        padding: 1rem 0;
    }
    a {
        position: relative;
        font-size: 1em;
        display: inline-block;
        transition: color 0.2s;
    }
    .project-details {
        display: flex;
        align-items: center;
        justify-content: center;

        width: 200px;
        height: 70px;

        text-decoration: none;
        cursor: pointer;

        /* transition:  */

        &:link {
            color: inherit;
        }

        &:visited {
            color: inherit;
        }

        &:focus,
        &:hover,
        &:active {
            color: rebeccapurple;
        }
    }

    .project-details {
        position: relative;
        display: inline-block;
        padding: 15px 70px;
        border: 5px solid #b17461;
        color: #b17461;
        font-size: 30px;
        font-family: arial;
        background-image: radial-gradient(#9b8f06, #616eb1);
        background-position: 50% 50%;
        background-repeat: no-repeat;
        background-size: 0% 100%;
        transition: background-size 0.5s, color 0.5s;
    }
    .project-details:hover {
        background-size: 100% 100%;
        color: #fff;
    }
    .project-link {
        display: block;
        color: inherit;
        text-decoration: none;
        cursor: pointer;

        &:link {
            color: inherit;
        }

        &:visited {
            color: inherit;
        }

        &:focus,
        &:hover,
        &:active {
            color: rebeccapurple;
        }
    }

    @media screen and (min-width: 768px) {
        .container {
            display: grid;
            grid-template: repeat(3, min-content) / repeat(auto-fit, minmax(10rem, auto));
            gap: 1rem;
        }

        .project-tech,
        .project-description {
            font-size: 1.25rem;
        }

        .project-description {
            grid-row-start: 2;
        }
        .project-image {
            grid-column-start: 2;
            grid-row: 1 / 3;
        }
    }
</style>
