---
// Import components
import CldImage from './CldImage.astro'

const { projNum, name, tech, description, src, width, height, alt } = Astro.props
const slug = name.replaceAll(/\s/g, '').toLowerCase()
---

<div class="container">
    <div class="project-text">
        <a href=`/projects/${slug}` class="project-link">
            <h3>{name}</h3>
        </a>

        <p class="project-tech">{tech}</p>
        <p class="project-description">{description}</p>

        <div class="project-details-button">
            <a href=`/projects/${slug}` class="project-link project-details">See Project Details</a>
        </div>
    </div>

    <div class="project-image">
        <a href=`/projects/${slug}` class="project-link">
            <CldImage src={src} width={width} height={height} alt={alt} />
        </a>
    </div>
</div>

<style>
    .container {
        width: 100%;

        color: var(--main-color);
    }

    .project-text {
        padding-bottom: 2rem;
    }

    .project-text h3 {
        font-size: clamp(2.5rem, 5vw, 4rem);
    }

    .project-description {
        max-width: 60ch;

        padding: 1rem 0;
    }

    .project-link {
        display: block;
        color: inherit;
        text-decoration: none;
        cursor: pointer;
    }

    .project-link:link,
    .project-link:visited {
        color: inherit;
    }

    .project-link:focus,
    .project-link:hover,
    .project-link:active {
        color: rebeccapurple;
    }

    .project-details-button {
        /* display: flex;
        justify-content: center;
        align-items: center;
        width: 200px;
        aspect-ratio: 2.5 / 1; */

        width: 200px;
        aspect-ratio: 2.5 / 1;

        border: 10px solid;
        border-image-slice: 1;
        border-width: 2px;
        border-image-source: linear-gradient(to left, #743ad5, #d53a9d);

        background-image: linear-gradient(to left, #743ad5, #d53a9d), url(../styles/noise.svg);
        background-blend-mode:multiply;

        background-position: 100% 100%;
        background-repeat: no-repeat;
        background-size: 100% 0%;

        /* transition: transform 0.2s ease; */
        transition: background-size 0.2s ease;

        /* padding: 0.1rem; */
    }

    .project-details {
        display: grid;
        place-content: center;
        position: relative;
        width: 200px;
        aspect-ratio: 2.5 / 1;
        /* background-color: white; */
        /* background-image: white; */

        /* background-position: 50% 50%;
        background-repeat: no-repeat;
        background-size: 100% 100%; */
/* 
        background-position: 100% 100%;
        background-repeat: no-repeat;
        background-size: 100% 0%; */

        transition: transform 0.2s ease;
        transition: background-size 2s ease;
        /* transition: color 0.2s ease; */
    }

    .project-details-button:hover {
        /* transform: skewX(-10deg); */
        background-size: 100% 300%;
    }

    .project-details:hover {
        /* transform: skewX(10deg); */
        /* background-size: 0% 0%; */
        color: white;
    }

    @media screen and (min-width: 768px) {
        .container {
            display: grid;
            grid-template: repeat(3, min-content) / repeat(auto-fit, minmax(10rem, auto));
            gap: 1rem;
        }

        .project-tech,
        .project-description {
            font-size: 1.25rem;
        }

        .project-description {
            grid-row-start: 2;
        }
        .project-image {
            grid-column-start: 2;
            grid-row: 1 / 3;
        }
    }
</style>
